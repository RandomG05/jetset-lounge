/**  */
Ext.define('ExtApp.modules.billing.controller.dashboard', {
    extend: 'ExtApp.core.Module',
    id: 'modules.billing.dashboard',
    isloadModuleStore: true,
    suspendIfLoadStore: true,
    init: function () {
        this.launcher = {
            text: 'Dashboard',
            iconCls: 'icon-grid'
        };
    },
    useHelper: [],
    ModuleStore: {
        'billing': [{
            store_name: 'store_dataBilling',
            autoload: true
        }, {
            store_name: 'store_get_dataBilling',
            autoload: true
        }, {
            store_name: 'store_billingDetail',
            autoload: true
        }],
        'systems': [{
            store_name: 'store_UserData',
            autoload: false
        }]
    },
    ModuleModel: {
        'billing': [{
            model_name: 'model_dataBilling'
        }, {
            model_name: 'model_get_dataBilling'
        }, {
            model_name: 'model_billingDetail'
        }],
        'systems': [{
            model_name: 'model_UserData'
        }]
    },
    createWindow: function (me, winID, winFunc) {
        var me = this;
        var win_func = 'openWindow';
        if (winFunc) {
            win_func = winFunc;
        }
        var win_id = me.id;
        if (winID) {
            win_id = me.id + '_' + winID;
            if (!winFunc) {
                win_func = winID;
            }
        }
        var desktop = me.app.getDesktop();
        var win = me.app.getDesktop().getWindow(win_id);
        if (!win) {
            me.app.createView('ExtApp.modules.billing.view.dashboard', me, win_func);
        } else {
            me.app.desktop.restoreWindow(win);
        }
    },
    doClose: function (winVar) {
        var me = this;
        var win = me.app.getDesktop().getWindow(winVar);
        if (win) {
            win.doClose();
        }
    },
    get_chartData: function() {
        var formDashboard = Ext.getCmp('form_dashboard').getForm();
        switch(formDashboard.findField('chart_list').getValue()) {
            case 1:
                Ext.getCmp('chart_1').show()
                Ext.getCmp('chart_2').hide()
                Ext.getCmp('chart_3').hide()
                break;
            case 2:
                Ext.getCmp('chart_1').hide()
                Ext.getCmp('chart_2').show()
                Ext.getCmp('chart_3').hide()
                break;
            case 3:
                Ext.getCmp('chart_1').hide()
                Ext.getCmp('chart_2').hide()
                Ext.getCmp('chart_3').show()
                break;
        }
    },
});